{% extends 'layout.html' %}

{% block scripts %}
    <script>
        if (window.bundle === undefined) {
            window.bundle = {};
        }
        bundle['characters'] = {{ campaign.characters|tojson }};
        bundle['chat_url'] = "{{ url_for('dm.chat') }}";
        bundle['fetch_updates_url'] = "{{ url_for('dm.fetch_updates') }}";
        bundle['stream_updates_url'] = "{{ url_for('dm.stream_updates') }}";
    </script>
    <script src="{{ url_for('static', filename='js/character.js') }}"></script>
    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
    <script src="{{ url_for('static', filename='js/dm_dashboard.js') }}"></script>
    <script src="{{ url_for('static', filename='js/updates.js') }}"></script>
{% endblock scripts %}

{% block body %}
    DM
    <ul>
        {% for character in campaign.characters %}
            <li>{{ character.name }} - {{ character.hitpoints }} / {{ character.max_hitpoints }}</li>
        {% endfor %}
    </ul>

    {% include 'dice_roller.html' %}

    <input type="text" id="chat-box">
{% endblock %}